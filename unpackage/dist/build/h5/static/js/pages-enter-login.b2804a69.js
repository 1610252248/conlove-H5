(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-enter-login"],{"20bb":function(t,e,a){"use strict";var i=a("a776"),n=a.n(i);n.a},"2ffe":function(t,e,a){"use strict";a.r(e);var i=a("b35a"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e["default"]=n.a},5421:function(t,e,a){"use strict";a.r(e);var i=a("ec1c"),n=a("2ffe");for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);a("20bb");var s,r=a("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"2a0f16fa",null,!1,i["a"],s);e["default"]=u.exports},a776:function(t,e,a){var i=a("f394");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("a9c54a16",i,!0,{sourceMap:!1,shadowMode:!1})},b35a:function(t,e,a){"use strict";(function(t){var i=a("ee27");a("c740"),a("c975"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a("f3f3")),o=a("2f62"),s={computed:(0,n.default)({},(0,o.mapGetters)(["isLogin"])),data:function(){return{form:{userName:"",password:""},rules:{userName:[{required:!0,message:"请输入账号或邮箱"}],password:[{required:!0,message:"请输入密码"}]},routes:["register","login","forget"]}},onShow:function(){var t=this;this.isLogin&&(this.$u.toast("您已登录"),setTimeout((function(){t.navToIndex()}),1e3))},onReady:function(){this.$refs.uForm.setRules(this.rules)},methods:(0,n.default)({},(0,o.mapActions)(["set"]),{navToIndex:function(){uni.switchTab({url:"/pages/home/home"})},login:function(){var e=this;t.log("login"),this.$refs.uForm.validate((function(a){t.log(a),a&&e._login()}))},_login:function(){var t=this;this.$http.post("/login",this.form).then((function(e){e.status==t.$http.SUCCESS?function(){var a=getCurrentPages(),i=a.length,n=1;while(i>0&&-1!=t.routes.findIndex((function(t){return-1!=a[i-1].route.indexOf(t)})))n++,i--;0==i?t.$refs.uToast.show({title:e.msg,type:"success",url:"/pages/home/home",isTab:!0,duration:1500}):(t.$refs.uToast.show({title:e.msg,type:"success"}),setTimeout((function(){uni.navigateBack({delta:n})}),1500)),t.set(e.data),t.$eventBus.$emit("login-success")}():t.$refs.uToast.show({title:e.msg,type:"warning"})}))}})};e.default=s}).call(this,a("5a52")["default"])},ec1c:function(t,e,a){"use strict";var i={cScroll:a("c70c").default,uForm:a("7911").default,uFormItem:a("50e2").default,uButton:a("1564").default,uToast:a("6858").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("c-scroll",{attrs:{midHeight:!0}},[a("v-uni-view",{staticClass:"flex align-center justify-center flex-direction"},[a("v-uni-image",{staticClass:"head-image",attrs:{src:"/static/image/pic-login-head.png",mode:"aspectFit"}}),a("v-uni-image",{staticClass:"head-title",attrs:{src:"/static/image/title.png",mode:"aspectFit"}}),a("u-form",{ref:"uForm",staticClass:"zai-form",attrs:{model:t.form,errorType:["toast"]}},[a("u-form-item",{attrs:{"label-width":0,prop:"userName","border-bottom":!1}},[a("v-uni-input",{staticClass:"zai-input",attrs:{placeholder:"账号 / 邮箱"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),a("u-form-item",{attrs:{"label-width":0,prop:"password","border-bottom":!1}},[a("v-uni-input",{staticClass:"zai-input",attrs:{password:!0,placeholder:"密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("v-uni-view",{staticClass:"flex margin-top"},[a("u-button",{staticClass:"btn",attrs:{ripple:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navToIndex.apply(void 0,arguments)}}},[t._v("随便看看")]),a("u-button",{staticClass:"btn",attrs:{ripple:!0},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.login.apply(void 0,arguments)}}},[t._v("立即登录")])],1),a("v-uni-view",{staticClass:"margin-tb-xl flex justify-between padding-lr",staticStyle:{color:"#87a1bc"}},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$u.route("/pages/enter/forget")}}},[t._v("忘记密码？")]),a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$u.route("/pages/enter/register")}}},[t._v("立即注册")])],1)],1)],1),a("u-toast",{ref:"uToast"})],1)},o=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return i}))},f394:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".head-image[data-v-2a0f16fa]{margin-top:%?50?%;width:%?500?%;height:%?400?%;min-height:%?200?%}.head-title[data-v-2a0f16fa]{width:%?532?%;height:%?92?%}.zai-form[data-v-2a0f16fa]{width:64%;margin:%?80?% auto 0}.zai-input[data-v-2a0f16fa]{border:1px solid #a7b6d0;width:100%;border-radius:%?100?%;padding:0 %?40?%;height:%?80?%;font-size:%?30?%;color:#94afce}.input-placeholder[data-v-2a0f16fa],\n.text-color[data-v-2a0f16fa]{color:#94afce}.btn[data-v-2a0f16fa]{color:#fff!important;background-color:#ff4a2d!important;border-radius:1000px;font-size:%?30?%;padding:0 %?38?%}",""]),t.exports=e}}]);